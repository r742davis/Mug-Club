(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1:function(e,t,a){e.exports={ModalContainer:"Modals_ModalContainer__2fLw_",Modal:"Modals_Modal__10u8J",ModalTitle:"Modals_ModalTitle__3Hyrz",ModalContent:"Modals_ModalContent__3WyKt",ModalImage:"Modals_ModalImage__1WFqM",ModalForm:"Modals_ModalForm__UKGm1",Group:"Modals_Group__1HYDG",Input:"Modals_Input__5uc30",Label:"Modals_Label__VeMPf",BeerLabel:"Modals_BeerLabel__32m32",Select:"Modals_Select__RvQto",ButtonContainer:"Modals_ButtonContainer__3zo7f",EditButton:"Modals_EditButton__2khIt",CancelButton:"Modals_CancelButton__2Gel2"}},104:function(e,t,a){},141:function(e,t){},143:function(e,t){},151:function(e,t,a){e.exports=a.p+"static/media/Test.c9ac2ac8.csv"},152:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),o=a.n(l),s=(a(104),a(7)),c=a.n(s),u=a(19),i=a(14),m=a(15),p=a(16),d=a(17),h=a(67),E=a.n(h),b=a(25),f=a(6),g=a.n(f),C=a(12),v=a(13),_=function(e){return r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)}},r.a.createElement("div",{className:g.a.LoginContainer},e.error&&r.a.createElement("div",null,r.a.createElement("h3",{className:g.a.Error},e.message)),r.a.createElement("div",{className:g.a.Group},r.a.createElement("input",{type:"text",name:"name",onChange:e.onChange,className:g.a.Input,required:!0}),r.a.createElement("span",{className:g.a.Bar}),r.a.createElement("label",{htmlFor:"name",className:g.a.Label},"Name")),r.a.createElement("div",{className:g.a.Group},r.a.createElement("input",{type:"email",name:"email",onChange:e.onChange,className:g.a.Input,required:!0}),r.a.createElement("span",{className:g.a.Bar}),r.a.createElement("label",{htmlFor:"email",className:g.a.Label},"Email")),r.a.createElement("div",{className:g.a.Group},r.a.createElement("input",{type:"password",name:"password",onChange:e.onChange,className:g.a.Input,required:!0}),r.a.createElement("span",{className:g.a.Bar}),r.a.createElement("label",{htmlFor:"password",className:g.a.Label},"Password")),r.a.createElement("button",{type:"submit",name:"register",className:g.a.Button},"Register"),r.a.createElement("div",{onClick:function(){return e.toggleReg()},className:g.a.Back},r.a.createElement(C.a,{icon:v.a}))))},N=a(38),y=a(5),B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{message:e,status:t,id:a}}},O=a(26),S=a.n(O),L=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}};return t&&(a.headers["x-auth-token"]=t),a},I={login:function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});S.a.post("https://bearmugclub.herokuapp.com/api/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(t){e({type:"LOGIN_SUCCESS",payload:t.data})})).catch((function(t){e(B(t.response.data,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},register:function(e){var t=e.name,a=e.email,n=e.password;return function(e){var r=JSON.stringify({name:t,email:a,password:n});S.a.post("https://bearmugclub.herokuapp.com/api/users",r,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"REGISTER_SUCCESS",payload:t.data})})).catch((function(t){e(B(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}},clearErrors:function(){return{type:"CLEAR_ERRORS"}}},w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:"",message:null,toggleLogin:!1,toggleReg:!1},e.onChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=e.state,n={email:a.email,password:a.password};e.props.login(n)},e.onSubmitReg=function(t){t.preventDefault();var a=e.state,n={name:a.name,email:a.email,password:a.password};e.props.register(n)},e.toggleLogin=function(){e.props.clearErrors(),e.setState({toggleLogin:!e.state.toggleLogin})},e.toggleReg=function(){e.props.clearErrors(),e.setState({toggleReg:!e.state.toggleReg})},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("LOGIN_FAIL"===t.id?this.setState({message:t.message.message}):this.setState({message:null}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.toggleLogin,t.toggleReg),n=this.props.auth.isAuthenticated,l=r.a.createElement("div",null,r.a.createElement("h3",{className:g.a.Error},this.state.message));return r.a.createElement("div",null,n&&r.a.createElement(N.a,{to:"/search-customers"}),!n&&r.a.createElement("section",{className:g.a.Container},r.a.createElement("h1",{className:g.a.Title},r.a.createElement("h2",null,"Welcome to"),"Mug Club \ud83c\udf7b"),!a&&r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:g.a.LoginContainer},this.state.message&&l,r.a.createElement("div",{className:g.a.Group},r.a.createElement("input",{type:"text",name:"email",className:g.a.Input,onChange:this.onChange,required:!0}),r.a.createElement("label",{htmlFor:"email",className:g.a.Label},"Email")),r.a.createElement("div",{className:g.a.Group},r.a.createElement("input",{type:"password",name:"password",className:g.a.Input,onChange:this.onChange,required:!0}),r.a.createElement("label",{htmlFor:"password",className:g.a.Label},"Password")),r.a.createElement("div",{className:g.a.ButtonContainer},r.a.createElement("button",{type:"submit",name:"login",className:g.a.Button},"Login"),r.a.createElement("button",{name:"register",onClick:function(){return e.toggleReg()},className:g.a.Button},"Register")))),this.state.toggleReg&&r.a.createElement(_,{onSubmit:this.onSubmitReg,toggleReg:this.toggleReg,error:this.state.message,onChange:this.onChange})))}}]),a}(n.Component),k=Object(y.b)((function(e){return{auth:e.auth,isAuthenticated:e.auth.isAuthenticated,error:e.error}}),I)(w),M=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:E.a.BgImage}),r.a.createElement("div",{className:E.a.Container},r.a.createElement(k,null)))},j=function(e){return r.a.createElement(M,null)},A=a(35),T=a.n(A),R=a(28),x=a.n(R),F=a(55),D=a.n(F),G=function(e){return r.a.createElement("button",{className:D.a.DeleteButton,onClick:e.delete},r.a.createElement(C.a,{icon:v.g}))},U=function(e){return r.a.createElement("button",{className:D.a.EditButton,onClick:e.edit},r.a.createElement(C.a,{icon:v.d}))},H=Object(y.b)((function(e){return{modalOpen:e.modal.modalOpen}}))((function(e){return r.a.createElement("div",{className:x.a.CustomerCard},r.a.createElement("div",{className:e.completed?"".concat(x.a.TitleContainer," ").concat(x.a.Completed):x.a.TitleContainer},r.a.createElement("h1",{className:x.a.CustomerTitle},e.name.first," ",e.name.last,e.completed?r.a.createElement("div",{className:x.a.CheckIcon},r.a.createElement(C.a,{icon:v.c})):null),r.a.createElement("h2",{className:x.a.CustomerDetails},"Mug Club #",e.clubId)),r.a.createElement("span",{className:x.a.Span},r.a.createElement("h2",{className:x.a.CustomerDetails},"Beers Completed: ",e.calculateCompletedBeers(e.beers)," /"," ",e.beers.length)),r.a.createElement("span",{className:x.a.ButtonContainer},r.a.createElement(U,{edit:e.openModal}),r.a.createElement(G,{delete:e.deleteCustomer})))})),V=a(11),P=a.n(V),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"OPEN_MODAL",payload:{modalType:e,data:t}}},W=function(){return{type:"CLOSE_MODAL"}},z="https://bearmugclub.herokuapp.com/api/customers/",J=function(){return function(e,t){return e(Y()),fetch(z,L(t)).then((function(e){return e.json()})).then((function(t){return e(X(t)),t})).catch((function(t){return e(Q(t))}))}},Y=function(){return{type:"FETCH_CUSTOMERS_BEGIN"}},X=function(e){return{type:"FETCH_CUSTOMERS_SUCCESS",payload:e}},Q=function(e){return{type:"FETCH_CUSTOMERS_FAILURE",payload:{error:e}}},Z=function(e){return function(t,a){S.a.post(z,e,L(a)).then((function(e){return t({type:"CREATE_CUSTOMER",payload:e.data})})).catch((function(e){return t(B(e.response.data,e.response.status))}))}},K="https://bearmugclub.herokuapp.com/api/beers/",$=function(){return function(e,t){return e(ee()),fetch(K,L(t)).then((function(e){return e.json()})).then((function(t){return e(te(t)),t})).catch((function(t){return e(ae(t))}))}},ee=function(){return{type:"FETCH_BEERS_BEGIN"}},te=function(e){return{type:"FETCH_BEERS_SUCCESS",payload:e}},ae=function(e){return{type:"FETCH_BEERS_FAILURE",payload:{error:e}}},ne={openModal:q,deleteCustomer:function(e){return function(t,a){S.a.delete(z+e,L(a)).then((function(a){return t({type:"DELETE_CUSTOMER",payload:e})})).catch((function(e){return t(B(e.response.data,e.response.status))}))}},fetchBeers:$,fetchCustomers:J},re=a(53),le=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.updateSearch=function(t){e.setState({search:t.target.value})},e.deleteCustomer=function(t){P()({title:"Delete ".concat(t.name.first,"?"),text:"Do you really want to delete this customer?",buttons:!0,icon:"warning",dangerMode:!0}).then((function(a){a?(P()("Boom! ".concat(t.name.first," ").concat(t.name.last," has been deleted!"),{icon:"success"}),e.props.deleteCustomer(t._id)):P()("Phew! ".concat(t.name.first," is safe!"))}))},e.calculateCompletedBeers=function(e){if(e){for(var t=0,a=0;a<e.length;a++)!0===e[a].finished&&t++;return t}},e.filterCustomers=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.search,n=t.filter((function(e){var t=e.mugClub.clubId.toString(),n=a===t?e:null,r=e.name.first.toLowerCase().includes(a.toLowerCase())||e.name.last.toLowerCase().includes(a.toLowerCase());return r||(n||void 0)}));return n},e}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state.search,n=this.props.loading;if(this.props.customers&&a){if(n)return r.a.createElement("h2",null,"Loading...");e=this.filterCustomers(this.props.customers,this.state.search)}var l=e?e.slice(0,20).map((function(e){return r.a.createElement(H,{key:re(),name:e.name,email:e.email,username:e.username,clubId:e.mugClub.clubId,beers:e.mugClub.beers,completed:e.mugClub.completed,openModal:function(){return t.props.openModal("EDIT_CUSTOMER",e)},openBeerModal:function(){return t.props.toggleCustomerBeersModal(e)},calculateCompletedBeers:t.calculateCompletedBeers,deleteCustomer:function(){return t.deleteCustomer(e)}})})):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:T.a.Background},r.a.createElement("div",{className:T.a.InputContainer},r.a.createElement("h1",{className:T.a.SearchTitle},"Search Customers",r.a.createElement("div",{className:T.a.AddIcon,onClick:function(){return t.props.openModal("NEW_CUSTOMER")}},r.a.createElement(C.a,{icon:v.e}))),r.a.createElement("div",{className:T.a.Group},r.a.createElement("input",{type:"text",name:"search",className:T.a.Input,defaultValue:this.state.search,onChange:this.updateSearch,required:!0}),r.a.createElement("label",{htmlFor:"search",className:T.a.Label},"Please Enter Name or Mug Club ID")),r.a.createElement("div",{className:T.a.CustomerContainer},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Results:"),l,r.a.createElement("h4",null,"Max 20 Results"))))))}}]),a}(n.Component),oe=Object(y.b)((function(e){return{customers:e.customers.customers,loading:e.customers.loading,token:e.auth.isAuthenticated}}),ne)(le),se=function(e){return r.a.createElement(oe,null)},ce=a(40),ue=a.n(ce),ie=a(171),me=a(172),pe=a(170),de=a(174),he={openModal:q,closeModal:W},Ee=a(53),be=Object(y.b)((function(e){return{beers:e.beers.beers}}),he)((function(e){var t=e.beers?e.beers.map((function(t){return r.a.createElement(me.a,{key:Ee(),dense:!0,button:!0,className:ue.a.ListItem,onClick:function(){return e.openModal("EDIT_BEER",t)}},r.a.createElement(pe.a,null,r.a.createElement(de.a,{className:ue.a.Avatar,alt:"".concat(t.brewery),src:t.url})),r.a.createElement("div",{className:ue.a.Group},r.a.createElement("h3",null,t.brewery),r.a.createElement("h2",null,t.name)))})):null;return r.a.createElement("section",{className:ue.a.DisplayContainer},r.a.createElement("h1",{className:ue.a.BeersTitle},"Beers List",r.a.createElement("div",{className:ue.a.AddIcon,onClick:function(){return e.openModal("NEW_BEER")}},r.a.createElement(C.a,{icon:v.e}))),r.a.createElement(ie.a,{dense:!0,className:ue.a.ListContainer},t))})),fe=function(e){return r.a.createElement(be,null)},ge=a(9),Ce=a.n(ge),ve=a(51),_e=a.n(ve),Ne=function(){return{type:"CLOSE_NAV"}},ye={closeModal:W,closeNav:Ne},Be=Object(y.b)((function(e){return{modalOpen:e.modal.modalOpen,navOpen:e.modal.navOpen}}),ye)((function(e){return r.a.createElement(r.a.Fragment,null,e.modalOpen&&r.a.createElement("div",{className:"".concat(_e.a.Backdrop," ").concat(_e.a.Modal),onClick:function(){return e.closeModal()}}),e.navOpen&&r.a.createElement("div",{className:"".concat(_e.a.Backdrop," ").concat(_e.a.Nav),onClick:function(){return e.closeNav()}}))})),Oe=a(31),Se={openModal:q,closeNav:Ne},Le=Object(y.b)((function(e){return{}}),Se)((function(e){return r.a.createElement("ul",{className:Ce.a.HamburgerList},r.a.createElement(Oe.b,{to:"".concat("","/search-customers"),className:Ce.a.HamburgerItem,onClick:function(){return e.closeNav()}},r.a.createElement("div",{className:Ce.a.LinkDiv},r.a.createElement("div",null,r.a.createElement(C.a,{icon:v.f})),r.a.createElement("h2",null,"Search"))),r.a.createElement(Oe.b,{to:"".concat("","/beers-list"),className:Ce.a.HamburgerItem,onClick:function(){return e.closeNav()}},r.a.createElement("div",{className:Ce.a.LinkDiv},r.a.createElement("div",null,r.a.createElement(C.a,{icon:v.b})),r.a.createElement("h2",null,"Beers"))),r.a.createElement("button",{onClick:function(){return e.comboToggle("NEW_CUSTOMER")},className:Ce.a.HamburgerItem},r.a.createElement("div",{className:Ce.a.LinkDiv},r.a.createElement("div",null,r.a.createElement(C.a,{icon:v.e})),r.a.createElement("h2",null,"New Customer"))),r.a.createElement("button",{onClick:function(){return e.comboToggle("NEW_BEER")},className:Ce.a.HamburgerItem},r.a.createElement("div",{className:Ce.a.LinkDiv},r.a.createElement("div",null,r.a.createElement(C.a,{icon:v.e})),r.a.createElement("h2",null,"New Beer"))),r.a.createElement("button",{onClick:function(){return e.logoutAlert()},className:Ce.a.HamburgerItem},r.a.createElement("div",{className:Ce.a.LinkDiv},r.a.createElement("div",null,r.a.createElement(C.a,{icon:v.h})),r.a.createElement("h2",null,"Log Out"))))})),Ie={openModal:q},we=Object(y.b)((function(e){return{}}),Ie)((function(e){return r.a.createElement("ul",{className:Ce.a.List},r.a.createElement("li",{className:Ce.a.Item},r.a.createElement(Oe.b,{to:"".concat(e.urlName,"/search-customers"),className:Ce.a.Link},"Search")),r.a.createElement("li",{className:Ce.a.Item},r.a.createElement(Oe.b,{to:"".concat(e.urlName,"/beers-list"),className:Ce.a.Link},"Beers List")),r.a.createElement("li",{className:Ce.a.Item},r.a.createElement("button",{onClick:function(){return e.openModal("NEW_CUSTOMER")},className:Ce.a.NewButton},"New Customer")),r.a.createElement("li",{className:Ce.a.Item},r.a.createElement("button",{onClick:function(){return e.openModal("NEW_BEER")},className:Ce.a.NewButton},"New Beer")),r.a.createElement("li",{className:Ce.a.Item},r.a.createElement("button",{onClick:function(){return e.logoutAlert()},className:Ce.a.Logout},"Log Out")))})),ke=a(92),Me=a.n(ke),je=(a(138),{logout:function(){return{type:"LOGOUT_SUCCESS"}},openModal:q,openNav:function(){return{type:"OPEN_NAV"}},closeNav:Ne}),Ae=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.logoutAlert=function(){P()({title:"Log out?",icon:"warning",buttons:["Cancel","Logout"],dangerMode:!0}).then((function(t){t?e.props.logout():P()("You have not been logged out")}))},e.comboToggle=function(){var t=Object(u.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.closeNav();case 2:return t.next=4,e.props.openModal(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.auth,a=t.token;if(!t.isAuthenticated&&!a)return r.a.createElement(N.a,{to:"".concat("","/"),push:!0});var n=r.a.createElement("nav",{className:Ce.a.Navbar},r.a.createElement("h1",null,"MUG CLUB",r.a.createElement("span",{role:"img","aria-label":"mugs of beers"},"\ud83c\udf7b")),this.props.navOpen?r.a.createElement(Le,{logoutAlert:this.logoutAlert,comboToggle:this.comboToggle,urlName:""}):r.a.createElement(we,{logoutAlert:this.logoutAlert,urlName:""}),r.a.createElement("div",{className:Ce.a.HamburgerContainer},r.a.createElement(Me.a,{isOpen:this.props.navOpen,onClick:this.props.navOpen?function(){return e.props.closeNav()}:function(){return e.props.openNav()}})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,null),a&&n)}}]),a}(n.Component),Te=Object(y.b)((function(e){return{auth:e.auth,navOpen:e.modal.navOpen}}),je)(Ae),Re=Object(y.b)((function(e){return{auth:e.auth,isAuthenticated:e.auth.isAuthenticated}}))((function(e){var t=e.auth,a=t.token,n=t.isAuthenticated;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,null,!n&&!a&&r.a.createElement(N.a,{to:"".concat("","/"),push:!0}),r.a.createElement("div",null,r.a.createElement(Te,null),r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"".concat("","/")},r.a.createElement(j,null)),r.a.createElement(N.b,{path:"".concat("","/search-customers")},r.a.createElement(se,null)),r.a.createElement(N.b,{path:"".concat("","/beers-list")},r.a.createElement(fe,null))))))})),xe=a(1),Fe=a.n(xe),De=a(173),Ge=a(58),Ue=a(33),He=a(43),Ve=a(41),Pe=a.n(Ve),qe={openModal:q,closeModal:W},We=a(53);var ze=Object(y.b)((function(e){return{}}),qe)((function(e){var t=r.a.useState([-1]),a=Object(He.a)(t,2),n=a[0],l=a[1],o=r.a.useState([-1]),s=Object(He.a)(o,2),c=s[0],u=s[1],i=function(e){return function(){var t=n.indexOf(e),a=Object(Ue.a)(n);if(-1===t?a.push(e):a.splice(t,1),l(a),!0===e.finished){var r=c.indexOf(e),o=Object(Ue.a)(c);-1===r?o.push(e):o.splice(r,1),u(o)}console.log(c)}},m=e.beers.map((function(e){return r.a.createElement("li",{key:We(),onClick:i(e),className:e.finished?"".concat(Pe.a.Item," ").concat(Pe.a.Completed):Pe.a.Item},r.a.createElement("img",{className:Pe.a.Avatar,alt:"".concat(e.brewery),src:"".concat(e.url)}),r.a.createElement("div",{className:Pe.a.NameContainer},r.a.createElement("h1",null,"".concat(e.brewery)),r.a.createElement("h2",null,"".concat(e.name))),r.a.createElement("div",null,function(e){if(-1!==n.indexOf(e)&&!e.finished||e.finished&&-1!==c.indexOf(e)||e.finished)return r.a.createElement("span",{className:Pe.a.CheckIcon},r.a.createElement(C.a,{icon:v.c}))}(e)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:Pe.a.ListContainer},m),r.a.createElement("div",{className:Fe.a.ButtonContainer},r.a.createElement("input",{type:"submit",value:"Submit",onClick:function(t){return e.handleSubmit(t,n,c)},className:Fe.a.EditButton}),r.a.createElement("input",{type:"submit",value:"Cancel",onClick:function(){return e.closeModal()},className:Fe.a.CancelButton})))})),Je={closeModal:W,updateCustomer:function(e,t){return function(a,n){S.a.put(z+t,e,L(n)).then(a(J())).catch((function(e){return a(B(e.response.data,e.response.status))}))}},fetchCustomers:J},Ye=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={first:e.props.first,last:e.props.last,clubId:e.props.clubId,customerId:e.props.customerId,completed:e.props.completed,customerBeers:e.props.customerBeers},e.updateCompletedBeers=function(t,a){for(var n=e.state.customerBeers,r=0;r<n.length;r++){for(var l=1;l<t.length;l++)n[r]._id===t[l]._id&&(n[r].finished=!0);for(var o=1;o<a.length;o++)n[r]._id===a[o]._id&&(n[r].finished=!1)}e.setState({customerBeers:n})},e.checkCompletion=function(t){for(var a=!0,n=0;n<t.length;n++)if(!1===t[n].finished)return!1;!0===a&&e.setState({completed:!0})},e.handleInputChange=function(t){var a=t.target.name;e.setState(Object(b.a)({},a,t.target.value))},e.handleSubmit=function(){var t=Object(u.a)(c.a.mark((function t(a,n,r){var l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e.updateCompletedBeers(n,r);case 3:return t.next=5,e.checkCompletion(e.state.customerBeers);case 5:return t.next=7,{name:{first:e.state.first,last:e.state.last},mugClub:{clubId:e.state.clubId,completed:e.state.completed,beers:e.state.customerBeers}};case 7:return l=t.sent,t.prev=8,t.next=11,e.props.updateCustomer(l,e.props.customerId);case 11:return t.next=13,e.props.fetchCustomers();case 13:P()({title:"You've updated ".concat(e.state.first," ").concat(e.state.last,"!"),icon:"success",button:"Ok!"}),e.props.closeModal(),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(8),console.log(t.t0),P()({title:"Oops! Something went wrong :(",icon:"fail",button:"Crap!"});case 21:case"end":return t.stop()}}),t,null,[[8,17]])})));return function(e,a,n){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return this.props?r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:Fe.a.ModalContainer},r.a.createElement(De.a,{in:!0},r.a.createElement("div",{className:Fe.a.Modal},r.a.createElement("h2",{className:Fe.a.ModalTitle},"Edit Customer"),r.a.createElement("div",{className:Fe.a.ModalContent},r.a.createElement("form",{className:Fe.a.Form,onSubmit:function(t){return e.props.handleSubmit(t)}},r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"first",className:Fe.a.Input,defaultValue:this.props.first,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"first",className:Fe.a.Label},"First Name")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"last",className:Fe.a.Input,defaultValue:this.props.last,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"last",className:Fe.a.Label},"Last Name")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"clubId",className:Fe.a.Input,defaultValue:this.props.clubId,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"clubId",className:Fe.a.Label},"Mug Club ID")),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"beerList",className:Fe.a.BeerLabel},"Select Beer to Mark as Complete:"),r.a.createElement(ze,{beers:this.props.customerBeers,updateCompletedBeers:this.updateCompletedBeers,handleSubmit:this.handleSubmit,toggleModal:function(){return e.props.closeModal()}})))))))):null}}]),a}(n.Component),Xe=Object(y.b)((function(e){return{first:e.modal.info.name.first,last:e.modal.info.name.last,clubId:e.modal.info.mugClub.clubId,completed:e.modal.info.mugClub.completed,customerBeers:e.modal.info.mugClub.beers,customerId:e.modal.info._id}}),Je)(Ye),Qe={closeModal:W,createCustomer:Z,fetchCustomers:J},Ze=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.customerIdCheck=function(t){for(var a=e.state.clubId,n=0;n<t.length;n++){if(t[n].mugClub.clubId.toString()===a)return!0}},e.handleInputChange=function(t){var a=t.target.name;e.setState(Object(b.a)({},a,t.target.value))},e.handleSubmit=function(){var t=Object(u.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.customerIdCheck(e.props.customers)){t.next=6;break}P()({title:"Mug Club Number ".concat(e.state.clubId," is already taken."),text:"Please enter a new number.",icon:"info",button:"Ok"}),t.next=23;break;case 6:return n={name:{first:e.state.first,last:e.state.last},mugClub:{clubId:e.state.clubId}},t.prev=7,console.log("Saving customer..."),t.next=11,e.props.createCustomer(n);case 11:return console.log("Refetching customers..."),t.next=14,e.props.fetchCustomers();case 14:P()({title:"".concat(e.state.first," has been created!"),icon:"success",button:"Ok!"}),console.log("".concat(e.state.first," ").concat(e.state.last," was saved!")),e.props.closeModal(),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(7),console.log(t.t0),P()({title:"Oops! Something went wrong :(",icon:"info",button:"Crap!"});case 23:case"end":return t.stop()}}),t,null,[[7,19]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:Fe.a.ModalContainer},r.a.createElement(De.a,{in:!0},r.a.createElement("div",{className:Fe.a.Modal},r.a.createElement("h2",{className:Fe.a.ModalTitle},"New Customer"),r.a.createElement("div",{className:Fe.a.ModalContent},r.a.createElement("form",{className:Fe.a.ModalForm,onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"first",className:Fe.a.Input,defaultValue:this.state.first,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"first",className:Fe.a.Label},"First Name")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"last",className:Fe.a.Input,defaultValue:this.state.last,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"last",className:Fe.a.Label},"Last Name")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"number",name:"clubId",className:Fe.a.Input,defaultValue:this.state.clubId,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"clubId",className:Fe.a.Label},"Mug Club ID (Suggested #: ",this.props.customers.length,")")),r.a.createElement("div",{className:Fe.a.ButtonContainer},r.a.createElement("input",{type:"submit",value:"Submit",onClick:function(t){return e.handleSubmit(t)},className:Fe.a.EditButton}),r.a.createElement("input",{type:"submit",value:"Cancel",onClick:function(){return e.props.closeModal()},className:Fe.a.CancelButton,formNoValidate:!0}))))))))}}]),a}(n.Component),Ke=Object(y.b)((function(e){return{customers:e.customers.customers}}),Qe)(Ze),$e={PaleAles:["American Amber Ale","American Pale Ale","Blonde Ale","English Bitter","English Pale Ale"],IndianPaleAles:["American IPA","Imperial or Double IPA","English IPA"],Lagers:["American Lager","German Helles","German Pilsner","Czech Pilsner"],DarkLagers:["Amber American Lager","Oktoberfest","German Schwarzbier","Vienna Lager"],GermanBocks:["Traditional Bock","Doppelbock","Weizenbock","Maibock"],BrownAles:["American Brown Ale","English Brown Ale"],Porters:["American Imperial Porter","English Brown Porter","Robust Porter"],Stouts:["American Stout","American Imperial Stout","Oatmeal Stout","Milk Stout","Irish Dry Stout"],BelgianStyle:["Belgian Pale Ale","Belgian Dubbel","Belgian Tripel","Belgian Quadrupel","Belgian Strong Dark Ale","Belgian Saison"],Wheat:["American Pale Wheat","Belgian Witbier","Berliner Weisse","Dunkelweizen","Hefeweizen"],Sour:["American Sour","Belgian Fruit Lambic","Flanders Red Ale","Belgian Gueuze"],Specialty:["American Black Ale","Barrel-Aged","Chocolate","Coffee","Fruit and Vegetable","Gluten-free","Herb and Spice","Honey","Pumpkin","Rye","Session","Smoked","Seasonal","Other"]},et=a(53),tt=Object.entries($e).map((function(e){var t=Object(He.a)(e,2),a=t[0],n=t[1];return r.a.createElement("optgroup",{key:et(),label:a.split(/(?=[A-Z])/).join(" ")},n.map((function(e){return r.a.createElement("option",{key:et(),value:e},e)})))})),at={openModal:q,closeModal:W,deleteBeer:function(e){return function(t,a){S.a.delete(K+e,L(a)).then((function(a){return t({type:"DELETE_BEER",payload:e})})).catch((function(e){return t(B(e.response.data,e.response.status))}))}},updateBeer:function(e,t){return function(a,n){var r=K+t;S.a.put(r,e,L(n)).then(a($())).catch((function(e){return a(B(e.response.data,e.response.status))}))}},fetchBeers:$},nt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={id:e.props.id,name:e.props.name,type:e.props.type,brewery:e.props.brewery,breweryLocation:e.props.breweryLocation,url:e.props.url},e.handleInputChange=function(t){var a=t.target.name;e.setState(Object(b.a)({},a,t.target.value))},e.handleSubmit=function(){var t=Object(u.a)(c.a.mark((function t(a){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={name:e.state.name,type:e.state.type,brewery:e.state.brewery,breweryLocation:e.state.breweryLocation,url:e.state.url},t.prev=2,r=e.state.id,t.next=6,e.props.updateBeer(n,r);case 6:P()({title:"You've updated the ".concat(e.state.name," Beer"),icon:"success",button:"Sweet!"}),e.props.closeModal(),e.props.fetchBeers(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0),P()({title:"Oops! Something went wrong :(",icon:"fail",button:"Crap!"});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),e.deleteBeerAlert=function(){P()({title:"Delete ".concat(e.props.name,"?"),text:"Do you really want to delete this beer?",buttons:!0,icon:"warning",dangerMode:!0}).then(function(){var t=Object(u.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}return P()("Hasta la Vista! ".concat(e.props.name," has been deleted!"),{icon:"success"}),t.next=4,e.props.deleteBeer(e.props.id);case 4:return t.next=6,e.props.fetchBeers();case 6:e.props.closeModal(),t.next=10;break;case 9:P()("Today is your luck day, you sweet sweet miracle drink!");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:Fe.a.ModalContainer},r.a.createElement(De.a,{in:!0},r.a.createElement("div",{className:Fe.a.Modal},r.a.createElement("h2",{className:Fe.a.ModalTitle},"Edit Beer"),r.a.createElement("div",{className:Fe.a.ModalContent},r.a.createElement("form",{className:Fe.a.ModalForm,onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"name",className:Fe.a.Input,defaultValue:this.props.name,onChange:function(t){return e.handleInputChange(t)},required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"name",className:Fe.a.Label},"Beer Name")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("select",{name:"type",className:Fe.a.Select,onChange:this.handleInputChange,defaultValue:this.props.type,required:!0},r.a.createElement("optgroup",{label:"Current Beer Type"},r.a.createElement("option",{defaultValue:this.props.type},this.props.type)),tt),r.a.createElement("label",{htmlFor:"type",className:Fe.a.Label},"Type")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"brewery",className:Fe.a.Input,defaultValue:this.props.brewery,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"brewery",className:Fe.a.Label},"Brewery")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"breweryLocation",className:Fe.a.Input,defaultValue:this.props.breweryLocation,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"breweryLocation",className:Fe.a.Label},"Brewery Location")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"url",className:Fe.a.Input,defaultValue:this.props.url,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"url",className:Fe.a.Label},"Beer/Brewery Image URL")),r.a.createElement("div",{className:Fe.a.ButtonContainer},r.a.createElement("input",{type:"submit",value:"Submit",onClick:function(t){return e.handleSubmit(t)},className:Fe.a.EditButton}),r.a.createElement("input",{type:"submit",value:"Cancel",onClick:function(){return e.props.closeModal()},className:Fe.a.CancelButton}))),r.a.createElement(G,{delete:function(){return e.deleteBeerAlert()}})))))}}]),a}(n.Component),rt=Object(y.b)((function(e){return{id:e.modal.info._id,name:e.modal.info.name,type:e.modal.info.type,brewery:e.modal.info.brewery,breweryLocation:e.modal.info.breweryLocation,url:e.modal.info.url}}),at)(nt),lt={openModal:q,closeModal:W,createBeer:function(e){return function(t,a){S.a.post(K,e,L(a)).then((function(e){return t({type:"CREATE_BEER",payload:e.data})})).catch((function(e){return t(B(e.response.data,e.response.status))}))}},fetchBeers:$},ot=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"",type:"",brewery:"",breweryLocation:"",url:""},e.handleInputChange=function(t){var a=t.target.name;e.setState(Object(b.a)({},a,t.target.value))},e.handleSubmit=function(){var t=Object(u.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,n={name:e.state.name,type:e.state.type,brewery:e.state.brewery,breweryLocation:e.state.breweryLocation,url:e.state.beerUrl,finished:!1},t.next=5,e.props.createBeer(n);case 5:return P()({title:"".concat(e.state.name," has been created!"),icon:"success",button:"Cool!"}),console.log("Fetching beers..."),t.next=9,e.props.fetchBeers();case 9:e.props.closeModal(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.error(t.t0),P()({title:"Oops! Something went wrong :(",icon:"fail",button:"Crap!"});case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:Fe.a.ModalContainer},r.a.createElement(De.a,{in:!0},r.a.createElement("div",{className:Fe.a.Modal},r.a.createElement("h2",{className:Fe.a.ModalTitle},"New Beer"),r.a.createElement("div",{className:Fe.a.ModalContent},r.a.createElement("form",{className:Fe.a.ModalForm,onSubmit:function(t){return e.props.handleSubmit(t)}},r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"name",className:Fe.a.Input,value:this.state.name,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"name",className:Fe.a.Label},"Beer Name")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("select",{name:"type",className:Fe.a.Select,onChange:this.handleInputChange,defaultValue:null,value:this.state.type,placeholder:"Beer Type",required:!0},r.a.createElement("optgroup",{label:"Current Beer Type"},r.a.createElement("option",{value:this.state.type},this.state.type)),tt),r.a.createElement("label",{htmlFor:"type",className:Fe.a.Label},"Type")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"brewery",className:Fe.a.Input,value:this.state.brewery,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"brewery",className:Fe.a.Label},"Brewery")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"breweryLocation",className:Fe.a.Input,value:this.state.breweryLocation,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"breweryLocation",className:Fe.a.Label},"Brewery Location")),r.a.createElement("div",{className:Fe.a.Group},r.a.createElement("input",{type:"text",name:"beerUrl",className:Fe.a.Input,value:this.state.beerUrl,onChange:this.handleInputChange,required:!0}),r.a.createElement("span",{className:Fe.a.Bar}),r.a.createElement("label",{htmlFor:"beerUrl",className:Fe.a.Label},"Beer/Brewery Image URL")),r.a.createElement("div",{className:Fe.a.ButtonContainer},r.a.createElement("input",{type:"submit",value:"Submit",onClick:function(t){return e.handleSubmit(t)},className:Fe.a.EditButton}),r.a.createElement("input",{type:"submit",value:"Cancel",onClick:function(){return e.props.closeModal()},className:Fe.a.CancelButton,formNoValidate:!0})))))))}}]),a}(n.Component),st=Object(y.b)((function(e){return{}}),lt)(ot),ct=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){switch(this.props.modalType){case"EDIT_CUSTOMER":return r.a.createElement(Xe,null);case"NEW_CUSTOMER":return r.a.createElement(Ke,null);case"EDIT_BEER":return r.a.createElement(rt,null);case"NEW_BEER":return r.a.createElement(st,null);case"BEER_LIST":return console.log("Beer List"),r.a.createElement(r.a.Fragment,null);default:return r.a.createElement(r.a.Fragment,null)}}}]),a}(n.Component),ut=Object(y.b)((function(e){return{modalType:e.modal.modalType}}))(ct),it=a(10),mt=a(93),pt={fetchBeers:$,fetchCustomers:J,createCustomer:Z},dt=a(151),ht=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={existingCustomers:""},e.runConversionAlogrithm=Object(u.a)(c.a.mark((function t(){var a,n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.props.beers,n=[],Object(mt.a)(dt,{delimiter:",",download:!0,complete:function(e){for(var t=e.data[0],l=1;l<e.data.length;){var o=e.data[l],s={name:{first:o[1],last:o[2]},mugClub:{completed:null,clubId:parseInt(o[0]),beers:r(t,o)},beersCompleted:parseInt(o[3])};o[3]>=a.length?s.mugClub.completed=!0:s.mugClub.completed=!1,n.push(s),l++}}}),r=function(){var t=Object(u.a)(c.a.mark((function t(a,n){var r,l,o,s,u,i,m,p,d,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(Ue.a)(e.props.beers),t.next=3,e.mapBeers(a,n);case 3:for(l=t.sent,o=[],s=0,u=Object.entries(l);s<u.length;s++)for(d in i=Object(He.a)(u[s],2),m=i[0],p=i[1],r)r[d].name===m&&!0===p.finished?(h=Object(it.a)({},r[d],{},p),o.push(h)):r[d].name===m&&o.push(r[d]);return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.setState({existingCustomers:n}),console.table(e.state.existingCustomers);case 6:case"end":return t.stop()}}),t)}))),e.mapBeers=function(e,t){for(var a={},n=5;n<t.length;n++){var r=e[n];"1"===t[n]?a[r]={finished:!0}:a[r]={finished:!1}}return a},e.saveCustomersToDatabase=function(t){var a,n=Object(Ge.a)(t);try{for(n.s();!(a=n.n()).done;){var r=a.value,l={name:{first:r.name.first,last:r.name.last},mugClub:{completed:r.mugClub.completed,clubId:r.mugClub.clubId,beers:r.mugClub.beers}};e.props.createCustomer(l),console.log(l)}}catch(o){n.e(o)}finally{n.f()}},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;this.state.customers;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.runConversionAlogrithm()}},"Run Alogrithm"),r.a.createElement("button",{onClick:function(){return e.saveCustomersToDatabase(e.state.existingCustomers)}},"Save Customers"))}}]),a}(n.Component),Et=(Object(y.b)((function(e){return{beers:e.beers.beers,customers:e.customers.customers}}),pt)(ht),{loadUser:function(){return function(e,t){e({type:"USER_LOADING"}),S.a.get("https://bearmugclub.herokuapp.com/api/auth/user",L(t)).then((function(t){return e({type:"USER_LOADED",payload:t.data})})).catch((function(t){e(B(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})}))}},fetchBeers:$,fetchCustomers:J}),bt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.componentDidMount=Object(u.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.auth;case 2:a=t.sent,n=a.token,a.isAuthenticated,n&&(e.props.loadUser(),setTimeout(e.loadDatabase,1e3));case 6:case"end":return t.stop()}}),t)}))),e.loadDatabase=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.auth.token){t.next=12;break}t.prev=2,e.props.fetchBeers(),e.props.fetchCustomers(),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(2),new Error("Cannot connect to database. Server may be busy or unavailable.");case 10:t.next=12;break;case 12:case"end":return t.stop()}}),t,null,[[2,7]])}))),e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,null),r.a.createElement(Be,null),r.a.createElement(ut,null))}}]),a}(n.Component),ft=Object(y.b)((function(e){return{auth:e.auth}}),Et)(bt),gt=a(36),Ct=a(95),vt={loading:!1,error:null,beers:[]};var _t={loading:!1,error:null,showEditCustomerModal:!1,customers:[]};var Nt={message:{},status:null,id:null},yt={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},Bt={modalType:"",modalOpen:!1,navOpen:!1,error:null,info:null};var Ot=Object(gt.c)({beers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BEERS_BEGIN":return Object(it.a)({},e,{loading:!0,error:null});case"FETCH_BEERS_SUCCESS":return Object(it.a)({},e,{loading:!1,beers:t.payload});case"FETCH_BEERS_FAILURE":return Object(it.a)({},e,{loading:!1,error:t.payload.error,beers:[]});case"CREATE_BEER":return Object(it.a)({},e,{beers:[].concat(Object(Ue.a)(e.beers),[t.payload])});case"DELETE_BEER":return Object(it.a)({},e,{beers:e.beers.filter((function(e){return e._id!==t.payload}))});default:return e}},customers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CUSTOMERS_BEGIN":return Object(it.a)({},e,{loading:!0,error:null});case"FETCH_CUSTOMERS_SUCCESS":return Object(it.a)({},e,{loading:!1,customers:t.payload});case"FETCH_CUSTOMERS_FAILURE":return Object(it.a)({},e,{loading:!1,error:t.payload.error,customers:[]});case"CREATE_CUSTOMER":return Object(it.a)({},e,{customers:[t.payload].concat(Object(Ue.a)(e.customers))});case"DELETE_CUSTOMER":return Object(it.a)({},e,{customers:e.customers.filter((function(e){return e._id!==t.payload}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(it.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(it.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(it.a)({},e,{},t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(it.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{message:t.payload.message,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{message:{},status:null,id:null};default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return Object(it.a)({},e,{modalOpen:!0,modalType:t.payload.modalType,info:t.payload.data,error:null});case"CLOSE_MODAL":return Object(it.a)({},e,{modalOpen:!1,modalType:"",info:null,error:null});case"OPEN_NAV":return Object(it.a)({},e,{navOpen:!0,error:null});case"CLOSE_NAV":return Object(it.a)({},e,{navOpen:!1,error:null});default:return e}}}),St=[Ct.a],Lt=Object(gt.e)(Ot,{},Object(gt.d)(gt.a.apply(void 0,St)));var It=function(){return r.a.createElement(y.a,{store:Lt},r.a.createElement(ft,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(It,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},28:function(e,t,a){e.exports={CustomerCard:"Customer_CustomerCard__194L9",TitleContainer:"Customer_TitleContainer__2I3v_",Completed:"Customer_Completed__20Oce",CustomerTitle:"Customer_CustomerTitle__3WyTr",ButtonContainer:"Customer_ButtonContainer__3EM2k",Span:"Customer_Span__Mdy56",CheckIcon:"Customer_CheckIcon__3cZZ3"}},35:function(e,t,a){e.exports={InputContainer:"Search_InputContainer__EV67Y",SearchTitle:"Search_SearchTitle__2cVn2",Group:"Search_Group__2sFLS",Input:"Search_Input__3yxj7",Label:"Search_Label__3QGEQ",AddIcon:"Search_AddIcon__ThTYn",CustomerContainer:"Search_CustomerContainer__1720d"}},40:function(e,t,a){e.exports={DisplayContainer:"BeerDisplay_DisplayContainer__m4NDd",BeersTitle:"BeerDisplay_BeersTitle__1fJIo",ListContainer:"BeerDisplay_ListContainer__1pVdd",ListItem:"BeerDisplay_ListItem__VcB7F",AddIcon:"BeerDisplay_AddIcon__783QR"}},41:function(e,t,a){e.exports={ListContainer:"BeersList_ListContainer__2dnCL",Item:"BeersList_Item__1JPF1",NameContainer:"BeersList_NameContainer__1I9B8",Avatar:"BeersList_Avatar__3s5nj",Completed:"BeersList_Completed__1_Co_",FinishedCheckbox:"BeersList_FinishedCheckbox__3f4Y1",CheckIcon:"BeersList_CheckIcon__2_kNy"}},51:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3f-j8",Modal:"Backdrop_Modal__ls4pp",Nav:"Backdrop_Nav__3CfBn"}},55:function(e,t,a){e.exports={EditButton:"Icons_EditButton__1XMCS",DeleteButton:"Icons_DeleteButton__H3TUq"}},6:function(e,t,a){e.exports={Container:"Login_Container__1JihT",LoginContainer:"Login_LoginContainer__1dsSN",Group:"Login_Group__3Eheb",Input:"Login_Input__1O-uz",Label:"Login_Label__8s_y6",ButtonContainer:"Login_ButtonContainer__X9VWm",Button:"Login_Button__2ZHXe",Back:"Login_Back__-LXR0",Error:"Login_Error__2T70R"}},67:function(e,t,a){e.exports={BgImage:"Home_BgImage__HvnmK",Container:"Home_Container__2VrjI"}},9:function(e,t,a){e.exports={Navbar:"NavBar_Navbar__2rhEp",List:"NavBar_List__1JPHj",Link:"NavBar_Link__tN1Hz",NewButton:"NavBar_NewButton__3sFG3",Logout:"NavBar_Logout__3Ro_N",HamburgerContainer:"NavBar_HamburgerContainer__28OdJ",HamburgerList:"NavBar_HamburgerList__1wXFj",HamburgerItem:"NavBar_HamburgerItem__3sXUo",LinkDiv:"NavBar_LinkDiv__1NijY"}},99:function(e,t,a){e.exports=a(152)}},[[99,1,2]]]);
//# sourceMappingURL=main.64bbbe89.chunk.js.map